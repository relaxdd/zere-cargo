!function(){"use strict";var t={619:function(t,e,o){o.p},498:function(t,e,o){o.p},365:function(){var t=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(r,c){function i(t){try{d(n.next(t))}catch(t){c(t)}}function a(t){try{d(n.throw(t))}catch(t){c(t)}}function d(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(i,a)}d((n=n.apply(t,e||[])).next())}))};function e(t){var e;return null===(e=t.get("Content-Type"))||void 0===e?void 0:e.includes("application/json")}function o(t){try{return JSON.parse(t)}catch(t){return!1}}function n(){function n(n){var r;return t(this,void 0,void 0,(function*(){const c=null===(r=n.currentTarget.dataset)||void 0===r?void 0:r.itemId;if(!c)return;if(window.confirm("Вы уверены что хотите удалить этот элемент?"))try{yield function(n){return t(this,void 0,void 0,(function*(){const t="/lk/api/index.php?action=delete-track&id="+n,r=yield fetch(t,{method:"GET"}),c=yield r.text();if(!r.ok||!e(r.headers))throw new Error(c);const i=o(c);if(!1===i)throw new Error(c);console.log(i)}))}(c)}catch(t){console.error(t)}}))}document.querySelectorAll(".zc_cards__item__right__delete").forEach((t=>{t.addEventListener("click",n)}))}window.addEventListener("load",(function(){!function(){const e=document.querySelector("#copy-address");e&&e.addEventListener("click",(function(e){return t(this,void 0,void 0,(function*(){if("clipboard"in window.navigator)try{const t="浙江省-金华市-义乌市-苏溪镇-义北工业园区祥和路1号 14-786库房电话:18905897786";yield window.navigator.clipboard.writeText(t),alert("Текст скопирован!")}catch(t){console.error(t)}else alert("Не удалось скопировать текст!")}))}))}(),n(),function(){const n=document.querySelector("form#create-track");n&&n.addEventListener("submit",(function(r){return t(this,void 0,void 0,(function*(){r.preventDefault();const t=new FormData(n),c=yield fetch("/lk/api/index.php?action=create-track",{method:"POST",body:t}),i=yield c.text();if(!c.ok||!e(c.headers))throw new Error(i);const a=o(i);if(!1===a)throw new Error(i);console.log(a)}))}))}(),function(t){function e(t){const e=t.currentTarget.closest(".zc_modal"),o=document.querySelector("html");e&&(o.classList.remove("zc_modal__show"),e.classList.remove("zc_modal__active"),setTimeout((()=>{e.style.removeProperty("display")}),300))}function o(t){var e;const o=null===(e=t.currentTarget.dataset)||void 0===e?void 0:e.modal;if(!o)return;const n=document.querySelector("html"),r=document.querySelector(`#${o}.zc_modal`);r&&(n.classList.add("zc_modal__show"),r.style.setProperty("display","block"),setTimeout((()=>{r.classList.add("zc_modal__active")}),0))}t.forEach((t=>{const n=document.querySelector(`#${t}.zc_modal`);if(!n)return;const r=n.querySelector(".zc_modal__block-close-button");r&&r.addEventListener("click",e);const c=document.querySelector(`[data-modal="${t}"]`);c&&c.addEventListener("click",o)}))}(["add-track-modal","example-modal"])}))}},e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){var t;e.g.importScripts&&(t=e.g.location+"");var o=e.g.document;if(!t&&o&&(o.currentScript&&(t=o.currentScript.src),!t)){var n=o.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!t;)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t+"../"}(),t[365](0,{},e),t[619](0,{},e);t[498](0,{},e)}();
//# sourceMappingURL=tracks.js.map